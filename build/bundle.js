/*! For license information please see bundle.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@material-ui/core"),require("@material-ui/core/Button"),require("@material-ui/core/ButtonGroup"),require("@material-ui/core/Grid"),require("@material-ui/core/Paper"),require("@material-ui/core/Radio"),require("@material-ui/core/RadioGroup"),require("@material-ui/core/Select"),require("@material-ui/core/Slider"),require("@material-ui/core/Table"),require("@material-ui/core/TableBody"),require("@material-ui/core/TableCell"),require("@material-ui/core/TableHead"),require("@material-ui/core/TableRow"),require("@material-ui/core/Tooltip"),require("@material-ui/core/Typography"),require("help-popup"),require("react"),require("lodash"));else if("function"==typeof define&&define.amd)define(["@material-ui/core","@material-ui/core/Button","@material-ui/core/ButtonGroup","@material-ui/core/Grid","@material-ui/core/Paper","@material-ui/core/Radio","@material-ui/core/RadioGroup","@material-ui/core/Select","@material-ui/core/Slider","@material-ui/core/Table","@material-ui/core/TableBody","@material-ui/core/TableCell","@material-ui/core/TableHead","@material-ui/core/TableRow","@material-ui/core/Tooltip","@material-ui/core/Typography","help-popup","react","lodash"],t);else{var i="object"==typeof exports?t(require("@material-ui/core"),require("@material-ui/core/Button"),require("@material-ui/core/ButtonGroup"),require("@material-ui/core/Grid"),require("@material-ui/core/Paper"),require("@material-ui/core/Radio"),require("@material-ui/core/RadioGroup"),require("@material-ui/core/Select"),require("@material-ui/core/Slider"),require("@material-ui/core/Table"),require("@material-ui/core/TableBody"),require("@material-ui/core/TableCell"),require("@material-ui/core/TableHead"),require("@material-ui/core/TableRow"),require("@material-ui/core/Tooltip"),require("@material-ui/core/Typography"),require("help-popup"),require("react"),require("lodash")):t(e["@material-ui/core"],e["@material-ui/core/Button"],e["@material-ui/core/ButtonGroup"],e["@material-ui/core/Grid"],e["@material-ui/core/Paper"],e["@material-ui/core/Radio"],e["@material-ui/core/RadioGroup"],e["@material-ui/core/Select"],e["@material-ui/core/Slider"],e["@material-ui/core/Table"],e["@material-ui/core/TableBody"],e["@material-ui/core/TableCell"],e["@material-ui/core/TableHead"],e["@material-ui/core/TableRow"],e["@material-ui/core/Tooltip"],e["@material-ui/core/Typography"],e["help-popup"],e.react,e._);for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}(self,(function(e,t,i,n,r,a,o,s,c,l,d,u,f,p,h,v,g,j,m){return(()=>{"use strict";var x={7418:e=>{var t=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,a){for(var o,s,c=r(e),l=1;l<arguments.length;l++){for(var d in o=Object(arguments[l]))i.call(o,d)&&(c[d]=o[d]);if(t){s=t(o);for(var u=0;u<s.length;u++)n.call(o,s[u])&&(c[s[u]]=o[s[u]])}}return c}},5251:(e,t,i)=>{i(7418);var n=i(9297),r=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var a=Symbol.for;r=a("react.element"),t.Fragment=a("react.fragment")}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,i){var n,a={},l=null,d=null;for(n in void 0!==i&&(l=""+i),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,n)&&!c.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:r,type:e,key:l,ref:d,props:a,_owner:o.current}}t.jsx=l,t.jsxs=l},5893:(e,t,i)=>{e.exports=i(5251)},7561:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=i(1731),o=n(i(7989)),s=n(i(7907)),c=i(9297),l=i(2536),d=i(8707),u=i(8707);t.default=function({criterion:e}){const{pvfs:t,showPercentages:i}=(0,c.useContext)(l.ElicitationContext),n=t[e.id],f=e.dataSources[0].unitOfMeasurement.type,p=i&&(0,d.canBePercentage)(f),h=(0,u.getWorst)(n,p),v=(0,u.getBest)(n,p),g=(0,r.jsxs)(r.Fragment,{children:[`${n.direction} `,(0,r.jsx)(s.default,Object.assign({disableHoverListener:!e.description,title:e.description?e.description:""},{children:(0,r.jsx)("span",Object.assign({id:`criterion-option-${e.id}`,className:"criterion-title"},{children:e.title}),void 0)}),void 0),` from ${h} to ${v}`]},void 0);return(0,r.jsx)(a.FormControlLabel,{id:`ranking-choice-${e.id}`,control:(0,r.jsx)(o.default,{value:e.id,color:"primary"},void 0),label:g},void 0)}},5517:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=i(1731),o=n(i(7907)),s=i(9297),c=i(2536),l=i(8707);t.default=function({criterion:e,displayValue:t}){const{showPercentages:i}=(0,s.useContext)(c.ElicitationContext);return(0,r.jsx)("ul",{children:(0,r.jsx)("li",Object.assign({id:`situation-${e.id}`},{children:(0,r.jsxs)(a.Typography,{children:[(0,r.jsx)(o.default,Object.assign({disableHoverListener:!e.description,title:e.description?e.description:""},{children:(0,r.jsx)("span",Object.assign({id:`situation-title-${e.id}`,className:"criterion-title"},{children:`${e.title}: `}),void 0)}),void 0),(0,r.jsx)("span",Object.assign({id:`situation-value-${e.id}`},{children:`${t} ${(0,l.getUnitLabel)(e.dataSources[0].unitOfMeasurement,i)}`}),void 0)]},void 0)}),void 0)},void 0)}},2536:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ElicitationContextProviderComponent=t.ElicitationContext=void 0;const r=i(5893),a=n(i(8092)),o=i(9297),s=i(3673),c=i(7237);t.ElicitationContext=(0,o.createContext)({}),t.ElicitationContextProviderComponent=function({elicitationMethod:e,criteria:i,showPercentages:n,previousCallback:l,pvfs:d,cancelCallback:u,saveCallback:f,template:p,stepSizesByCriterion:h,children:v}){const[g,j]=(0,o.useState)(1),[m,x]=(0,o.useState)(!0),[b,_]=(0,o.useState)(""),[O,C]=(0,o.useState)({}),[y,P]=(0,o.useState)({});return(0,r.jsx)(t.ElicitationContext.Provider,Object.assign({value:{currentStep:g,isNextDisabled:m,mostImportantCriterionId:b,preferences:O,elicitationMethod:e,showPercentages:n,pvfs:d,criteria:i,rankings:y,template:p,stepSizesByCriterion:h,getCriterion:function(e){return a.default.find(i,["id",e])},previousCallback:l,setCurrentStep:j,setIsNextDisabled:x,setMostImportantCriterionId:function(t){"precise"===e?C((0,c.buildInitialPrecisePreferences)(i,t)):"imprecise"===e&&C((0,c.buildInitialImprecisePreferences)(i,t)),_(t)},setPreference:function(t,i){let n=a.default.cloneDeep(O);const r={elicitationMethod:e,type:"exact swing",criteria:[b,t],ratio:100/i};n[t]=r,C(n)},setBoundPreference:function(e,t){let i=a.default.cloneDeep(O);const n={elicitationMethod:"imprecise",type:"ratio bound",criteria:[b,e],bounds:[100/t[1],100/t[0]]};i[e]=n,C(i)},setPreferences:C,cancelCallback:u,saveCallback:f,setRanking:function(e,t){const i=(0,s.addRanking)(y,e,t);P(i)}}},{children:v}),void 0)}},6445:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=n(i(9851)),o=i(9297),s=i(2536),c=n(i(8707));t.default=function({criterion:e}){const[t,i]=(0,o.useState)([1,100]),{setBoundPreference:n,mostImportantCriterionId:l}=(0,o.useContext)(s.ElicitationContext);return(0,o.useEffect)((()=>{n(e.id,t)}),[l]),(0,r.jsxs)(r.Fragment,{children:[l===e.id?"100%":`${(0,c.default)(t[0])} - ${(0,c.default)(t[1])}%`,(0,r.jsx)(a.default,{value:t,min:1,max:100,onChange:function(t,r){i(r),n(e.id,r)},step:1,disabled:l===e.id},void 0)]},void 0)}},3428:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=i(1731),o=n(i(4720)),s=n(i(2959)),c=n(i(4740)),l=i(3444),d=i(9297),u=i(2536),f=n(i(3470)),p=n(i(8422)),h=n(i(2030));t.default=function(){const{currentStep:e}=(0,d.useContext)(u.ElicitationContext);return(0,r.jsx)(o.default,Object.assign({container:!0,justify:"center",component:a.Box,mt:2},{children:(0,r.jsxs)(o.default,Object.assign({container:!0,item:!0,spacing:4,sm:12,md:9,component:s.default},{children:[(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(c.default,Object.assign({id:"swing-weighting-title-header",variant:"h4"},{children:(0,r.jsx)(l.InlineHelp,Object.assign({helpId:"imprecise-swing-weighting"},{children:"Imprecise swing weighting"}),void 0)}),void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:1===e?(0,r.jsx)(f.default,{},void 0):(0,r.jsx)(h.default,{},void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:9},{children:(0,r.jsx)(p.default,{},void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:3,container:!0,alignItems:"center",justify:"flex-end"},{children:(0,r.jsx)(o.default,Object.assign({item:!0,id:"step-counter"},{children:(0,r.jsxs)(c.default,{children:["Step ",e," of 2"]},void 0)}),void 0)}),void 0)]}),void 0)}),void 0)}},9494:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=n(i(9767)),o=n(i(781)),s=n(i(8092)),c=i(9297),l=i(2536),d=n(i(7460));t.default=function(){const{previousCallback:e,isNextDisabled:t,setIsNextDisabled:i,currentStep:n,setCurrentStep:u,preferences:f,criteria:p,cancelCallback:h,saveCallback:v}=(0,c.useContext)(l.ElicitationContext);return(0,r.jsxs)(o.default,Object.assign({size:"small"},{children:[h?(0,r.jsx)(a.default,Object.assign({id:"cancel-button",color:"secondary",variant:"contained",onClick:function(){h()}},{children:"Cancel"}),void 0):(0,r.jsx)(r.Fragment,{},void 0),(0,r.jsx)(a.default,Object.assign({id:"previous-button",onClick:function(){1===n?e():(i(!1),u(n-1))},color:"primary",variant:"contained",disabled:!e&&1===n},{children:"Previous"}),void 0),n===s.default.size(p)?(0,r.jsx)(d.default,Object.assign({disabled:t,color:"primary",id:"save-button",variant:"contained",asyncFunction:function(){return v(Object.values(f))}},{children:"Save"}),void 0):(0,r.jsx)(a.default,Object.assign({disabled:t,color:"primary",id:"next-button",variant:"contained",onClick:function(){u(n+1)}},{children:"Next"}),void 0)]}),void 0)}},411:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=i(1731),o=n(i(4720)),s=n(i(2959)),c=n(i(4740)),l=i(3444),d=n(i(8092)),u=i(9297),f=i(2536),p=n(i(3470)),h=n(i(9494)),v=n(i(2136));t.default=function(){const{currentStep:e,criteria:t}=(0,u.useContext)(f.ElicitationContext),i=d.default.size(t);return(0,r.jsx)(o.default,Object.assign({container:!0,justify:"center",component:a.Box,mt:2},{children:(0,r.jsxs)(o.default,Object.assign({container:!0,item:!0,spacing:4,sm:12,md:9,component:s.default},{children:[(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(c.default,Object.assign({id:"matching-title-header",variant:"h4"},{children:(0,r.jsx)(l.InlineHelp,Object.assign({helpId:"matching"},{children:"Matching"}),void 0)}),void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:1===e?(0,r.jsx)(p.default,{},void 0):(0,r.jsx)(v.default,{},void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:9},{children:(0,r.jsx)(h.default,{},void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:3,container:!0,alignItems:"center",justify:"flex-end"},{children:(0,r.jsx)(o.default,Object.assign({item:!0,id:"step-counter"},{children:(0,r.jsxs)(c.default,{children:["Step ",e," of ",i]},void 0)}),void 0)}),void 0)]}),void 0)}),void 0)}},2136:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=n(i(4720)),o=n(i(8361)),s=n(i(7595)),c=n(i(1463)),l=n(i(5361)),d=n(i(871)),u=n(i(4740)),f=i(9297),p=i(2536),h=i(3574),v=i(8707),g=i(8707),j=n(i(3871));t.default=function(){const{pvfs:e,showPercentages:t,mostImportantCriterionId:i,currentStep:n,getCriterion:m,criteria:x,template:b}=(0,f.useContext)(p.ElicitationContext),_=m(i),O=_.dataSources[0].unitOfMeasurement.type,C=(0,h.getCurrentCriterion)(x,i,n),y=C.dataSources[0].unitOfMeasurement.type,P=t&&(0,v.canBePercentage)(O),M=t&&(0,v.canBePercentage)(y),[S,I]=(0,f.useState)((0,h.getMatchingStatement)(_,C,P,M,e,b));return(0,f.useEffect)((()=>{I((0,h.getMatchingStatement)(_,C,P,M,e,b))}),[t,b,_,C]),(0,r.jsxs)(a.default,Object.assign({container:!0,item:!0,spacing:2},{children:[(0,r.jsx)(a.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(u.default,Object.assign({variant:"h6"},{children:`Trade-off between ${_.title} and ${C.title}`}),void 0)}),void 0),(0,r.jsx)(a.default,Object.assign({item:!0,xs:12,id:"matching-statement"},{children:(0,r.jsx)(u.default,{dangerouslySetInnerHTML:{__html:S}},void 0)}),void 0),(0,r.jsx)(a.default,Object.assign({item:!0,xs:12},{children:(0,r.jsxs)(o.default,Object.assign({size:"small"},{children:[(0,r.jsx)(l.default,{children:(0,r.jsxs)(d.default,{children:[(0,r.jsx)(c.default,{children:"Criterion"},void 0),(0,r.jsx)(c.default,Object.assign({align:"center"},{children:"Alternative A"}),void 0),(0,r.jsx)(c.default,Object.assign({align:"center"},{children:"Alternative B"}),void 0)]},void 0)},void 0),(0,r.jsxs)(s.default,{children:[(0,r.jsxs)(d.default,{children:[(0,r.jsx)(c.default,Object.assign({id:"most-important-criterion"},{children:_.title}),void 0),(0,r.jsx)(c.default,Object.assign({align:"center",id:"most-important-worst"},{children:(0,g.getWorst)(e[i],P)}),void 0),(0,r.jsx)(c.default,Object.assign({align:"center",id:"matching-cell"},{children:(0,r.jsx)(j.default,{currentCriterionId:C.id},void 0)}),void 0)]},void 0),(0,r.jsxs)(d.default,{children:[(0,r.jsx)(c.default,Object.assign({id:"trade-off-criterion"},{children:C.title}),void 0),(0,r.jsx)(c.default,Object.assign({align:"center",id:"trade-off-best"},{children:(0,g.getBest)(e[C.id],M)}),void 0),(0,r.jsx)(c.default,Object.assign({align:"center",id:"trade-off-worst"},{children:(0,g.getWorst)(e[C.id],M)}),void 0)]},void 0)]},void 0)]}),void 0)}),void 0)]}),void 0)}},3871:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(5893),c=o(i(9851)),l=i(9297),d=i(2536),u=i(3574),f=a(i(8707));t.default=function({currentCriterionId:e}){const{currentStep:t,setIsNextDisabled:i,mostImportantCriterionId:n,setPreference:r,showPercentages:a,pvfs:o,getCriterion:p,stepSizesByCriterion:h}=(0,l.useContext)(d.ElicitationContext),v=p(n),g=o[n],j=(0,f.getWorst)(g,!1),m=h[n],x=g.range[0]===j?g.range[0]+m:g.range[0],b=g.range[1]===j?g.range[1]-m:g.range[1],_=v.dataSources[0].unitOfMeasurement.type,O=a&&(0,f.canBePercentage)(_),[C,y]=(0,l.useState)((0,f.getBest)(o[n],O));return(0,l.useEffect)((()=>{const t=(0,f.getBest)(g,!1);y(t),r(e,(0,u.calculateImportance)(t,g))}),[t]),(0,s.jsxs)(s.Fragment,{children:[O?(0,f.default)(100*C):(0,f.default)(C),(0,s.jsx)(c.default,{id:"matching-slider",value:C,min:x,max:b,onChange:function(t,n){y(n),i((0,f.default)(n)===j),r(e,(0,u.calculateImportance)(n,g))},step:m},void 0)]},void 0)}},3574:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentCriterion=t.calculateImportance=t.determineStepSize=t.getMatchingStatement=t.DEFAULT_MATCHING_TEMPLATE=void 0;const r=n(i(8092)),a=i(8707);t.DEFAULT_MATCHING_TEMPLATE="How much better should %criterion1% minimally become to justify the worsening of %criterion2%?",t.getMatchingStatement=function(e,i,n,r,o,s){return(s||t.DEFAULT_MATCHING_TEMPLATE).replace(/%criterion1%/gi,e.title).replace(/%unit1%/gi,(0,a.getUnitLabel)(e.dataSources[0].unitOfMeasurement,n)).replace(/%worst1%/gi,String((0,a.getWorst)(o[e.id],n))).replace(/%best1%/gi,String((0,a.getBest)(o[e.id],n))).replace(/%criterion2%/gi,i.title).replace(/%unit2%/gi,(0,a.getUnitLabel)(i.dataSources[0].unitOfMeasurement,r)).replace(/%worst2%/gi,String((0,a.getWorst)(o[i.id],r))).replace(/%best2%/gi,String((0,a.getBest)(o[i.id],r)))},t.determineStepSize=function([e,t]){const i=t-e,n=Math.floor(Math.log10(i));return Math.pow(10,n-1)},t.calculateImportance=function(e,t){return function(e){return"cutoffs"in e}(t)?function(e,t){const{cutoffs:i,range:[n,a],direction:o}=t,s=[n,...i,a],c="increasing"===o?[0,.25,.5,.75,1]:[1,.75,.5,.25,0],l=r.default.findIndex(s,(t=>t===e));return-1!==l?100*c[l]:100*function(e,t,i,n){const a=r.default.findIndex(t,(t=>t>e)),[o,s]=[t[a-1],t[a]],c=(e-o)/(s-o),l=i[a-1];return"increasing"===n?l+.25*c:l-.25*c}(e,s,c,o)}(e,t):function(e,{range:[t,i],direction:n}){return("decreasing"===n?i-e:e-t)/Math.abs(t-i)*100}(e,t)},t.getCurrentCriterion=function(e,t,i){return r.default.reject(e,(e=>e.id===t))[i-2]}},3470:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=n(i(4720)),o=n(i(1454)),s=n(i(4740)),c=n(i(8092)),l=i(9297),d=i(2536),u=i(8707),f=n(i(7561)),p=n(i(5517));t.default=function(){const{mostImportantCriterionId:e,setMostImportantCriterionId:t,setIsNextDisabled:i,showPercentages:n,pvfs:h,criteria:v}=(0,l.useContext)(d.ElicitationContext);return(0,r.jsxs)(a.default,Object.assign({container:!0,item:!0},{children:[(0,r.jsx)(a.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(s.default,Object.assign({variant:"h6"},{children:"Given the following situation:"}),void 0)}),void 0),(0,r.jsx)(a.default,Object.assign({item:!0,xs:12},{children:c.default.map(v,(e=>{const t=e.dataSources[0].unitOfMeasurement.type,i=n&&(0,u.canBePercentage)(t);return(0,r.jsx)(p.default,{criterion:e,displayValue:(0,u.getWorst)(h[e.id],i)},e.id)}))}),void 0),(0,r.jsx)(a.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(s.default,Object.assign({variant:"h6"},{children:"Which of the following improvements is most important?"}),void 0)}),void 0),(0,r.jsx)(a.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(o.default,Object.assign({name:"most-important-criterion-radio",value:e,onChange:function(e){t(e.target.value),i(!1)}},{children:c.default.map(v,(e=>(0,r.jsx)(f.default,{criterion:e},e.id)))}),void 0)}),void 0)]}),void 0)}},1146:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=n(i(9851)),o=i(9297),s=i(2536),c=n(i(8707));t.default=function({criterion:e}){const[t,i]=(0,o.useState)(100),{setPreference:n,mostImportantCriterionId:l}=(0,o.useContext)(s.ElicitationContext);return(0,o.useEffect)((()=>{n(e.id,t)}),[l]),(0,r.jsxs)(r.Fragment,{children:[(0,c.default)(t),(0,r.jsx)(a.default,{id:`swing-slider-${e.id}`,value:t,min:1,max:100,onChange:function(t,r){i(r),n(e.id,r)},step:1,disabled:l===e.id},void 0)]},void 0)}},4888:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=i(1731),o=n(i(4720)),s=n(i(2959)),c=n(i(4740)),l=i(3444),d=i(9297),u=i(2536),f=n(i(3470)),p=n(i(8422)),h=n(i(2030));t.default=function(){const{currentStep:e}=(0,d.useContext)(u.ElicitationContext);return(0,r.jsx)(o.default,Object.assign({container:!0,justify:"center",component:a.Box,mt:2},{children:(0,r.jsxs)(o.default,Object.assign({container:!0,item:!0,spacing:4,sm:12,md:9,component:s.default},{children:[(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(c.default,Object.assign({id:"swing-weighting-title-header",variant:"h4"},{children:(0,r.jsx)(l.InlineHelp,Object.assign({helpId:"swing-weighting"},{children:"Precise swing weighting"}),void 0)}),void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:1===e?(0,r.jsx)(f.default,{},void 0):(0,r.jsx)(h.default,{},void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:9},{children:(0,r.jsx)(p.default,{},void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:3,container:!0,alignItems:"center",justify:"flex-end"},{children:(0,r.jsx)(o.default,Object.assign({item:!0,id:"step-counter"},{children:(0,r.jsxs)(c.default,{children:["Step ",e," of 2"]},void 0)}),void 0)}),void 0)]}),void 0)}),void 0)}},296:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=i(3444),o=n(i(3428)),s=n(i(411)),c=n(i(4888)),l=n(i(5088)),d=n(i(9176)),u=i(3208),f=i(2536);function p({elicitationMethod:e}){switch(e){case"precise":return(0,r.jsx)(c.default,{},void 0);case"imprecise":return(0,r.jsx)(o.default,{},void 0);case"matching":return(0,r.jsx)(s.default,{},void 0);case"ranking":return(0,r.jsx)(l.default,{},void 0);case"threshold":return(0,r.jsx)(u.ThresholdElicitationContextProviderComponent,{children:(0,r.jsx)(d.default,{},void 0)},void 0)}}t.default=function({criteria:e,elicitationMethod:t,manualHost:i,manualLexicon:n,manualPath:o,previousCallback:s,pvfs:c,showPercentages:l,stepSizesByCriterion:d,cancelCallback:u,saveCallback:h,template:v}){return(0,r.jsx)(f.ElicitationContextProviderComponent,Object.assign({previousCallback:s,criteria:e,elicitationMethod:t,showPercentages:l,pvfs:c,cancelCallback:u,saveCallback:h,template:v,stepSizesByCriterion:d},{children:(0,r.jsx)(a.HelpContextProviderComponent,Object.assign({lexicon:n,host:i,path:o},{children:(0,r.jsx)(p,{elicitationMethod:t},void 0)}),void 0)}),void 0)}},1708:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=n(i(9767)),o=n(i(781)),s=n(i(8092)),c=i(9297),l=i(2536),d=i(3673),u=n(i(7460));t.default=function({selectedCriterionId:e,setSelectedCriterionId:t}){const{previousCallback:i,currentStep:n,setRanking:f,setCurrentStep:p,rankings:h,criteria:v,cancelCallback:g,saveCallback:j}=(0,c.useContext)(l.ElicitationContext);return(0,r.jsxs)(o.default,Object.assign({size:"small"},{children:[g?(0,r.jsx)(a.default,Object.assign({id:"cancel-button",color:"secondary",variant:"contained",onClick:function(){g()}},{children:"Cancel"}),void 0):(0,r.jsx)(r.Fragment,{},void 0),(0,r.jsx)(a.default,Object.assign({id:"previous-button",onClick:function(){1===n?i():(1!==n&&function(){const e=n-1,t=(0,d.findCriterionIdForRank)(v,h,e);f(t,d.UNRANKED)}(),t(""),p(n-1))},color:"primary",variant:"contained",disabled:!i&&1===n},{children:"Previous"}),void 0),n===s.default.size(v)-1?(0,r.jsx)(u.default,Object.assign({disabled:!e,color:"primary",id:"save-button",variant:"contained",asyncFunction:function(){const t=(0,d.assignMissingRankings)(h,e,n,v),i=(0,d.buildRankingPreferences)(s.default.toArray(t));return j(i)}},{children:"Save"}),void 0):(0,r.jsx)(a.default,Object.assign({disabled:!e,color:"primary",id:"next-button",variant:"contained",onClick:function(){f(e,n),t(""),p(n+1)}},{children:"Next"}),void 0)]}),void 0)}},1862:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=n(i(4720)),o=n(i(1454)),s=n(i(4740)),c=n(i(8092)),l=i(9297),d=i(2536),u=i(3673),f=n(i(7561));t.default=function({selectedCriterionId:e,handleSelection:t}){const{rankings:i,criteria:n}=(0,l.useContext)(d.ElicitationContext),p=c.default.filter(n,(e=>!i[e.id]||i[e.id].rank===u.UNRANKED));return(0,r.jsxs)(a.default,Object.assign({container:!0,item:!0,spacing:2},{children:[(0,r.jsx)(a.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(s.default,Object.assign({variant:"h6"},{children:"Which of the following improvements is most important?"}),void 0)}),void 0),(0,r.jsx)(a.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(o.default,Object.assign({name:"ranking-criterion-radio",value:e,onChange:t},{children:c.default.map(p,(e=>(0,r.jsx)(f.default,{criterion:e},e.id)))}),void 0)}),void 0)]}),void 0)}},5088:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=i(1731),o=n(i(4720)),s=n(i(2959)),c=n(i(4740)),l=i(3444),d=n(i(8092)),u=i(9297),f=i(2536),p=n(i(1708)),h=n(i(1862)),v=n(i(3775));t.default=function(){const[e,t]=(0,u.useState)(""),{currentStep:i,criteria:n}=(0,u.useContext)(f.ElicitationContext),g=d.default.size(n)-1;return(0,r.jsx)(o.default,Object.assign({container:!0,justify:"center",component:a.Box,mt:2},{children:(0,r.jsxs)(o.default,Object.assign({container:!0,item:!0,spacing:4,sm:12,md:9,component:s.default},{children:[(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(c.default,Object.assign({id:"ranking-title-header",variant:"h4"},{children:(0,r.jsx)(l.InlineHelp,Object.assign({helpId:"ranking"},{children:"Ranking"}),void 0)}),void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(v.default,{},void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(h.default,{handleSelection:function(e){t(e.target.value)},selectedCriterionId:e},void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:9},{children:(0,r.jsx)(p.default,{selectedCriterionId:e,setSelectedCriterionId:t},void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:3,container:!0,alignItems:"center",justify:"flex-end"},{children:(0,r.jsx)(o.default,Object.assign({item:!0,id:"step-counter"},{children:(0,r.jsxs)(c.default,{children:["Step ",i," of ",g]},void 0)}),void 0)}),void 0)]}),void 0)}),void 0)}},3775:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=n(i(4720)),o=n(i(4740)),s=n(i(8092)),c=i(9297),l=i(2536),d=i(3673),u=i(8707),f=n(i(5517));t.default=function(){const{rankings:e,showPercentages:t,pvfs:i,criteria:n}=(0,c.useContext)(l.ElicitationContext);function p(n){const r=n.dataSources[0].unitOfMeasurement.type,a=t&&(0,u.canBePercentage)(r);return e[n.id]&&e[n.id].rank!==d.UNRANKED?(0,u.getBest)(i[n.id],a):(0,u.getWorst)(i[n.id],a)}return(0,r.jsxs)(a.default,Object.assign({container:!0,item:!0,spacing:2},{children:[(0,r.jsx)(a.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(o.default,Object.assign({variant:"h6"},{children:"Given the following situation:"}),void 0)}),void 0),(0,r.jsx)(a.default,Object.assign({item:!0,xs:12},{children:s.default.map(n,(e=>(0,r.jsx)(f.default,{criterion:e,displayValue:p(e)},e.id)))}),void 0)]}),void 0)}},3673:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.buildRankingPreferences=t.addRanking=t.assignMissingRankings=t.findCriterionIdForRank=t.UNRANKED=void 0;const r=n(i(8092));function a(e,t,i){let n=r.default.cloneDeep(e);const a={criterionId:t,rank:i};return n[t]=a,n}t.UNRANKED=0,t.findCriterionIdForRank=function(e,t,i){return r.default.find(e,(e=>t[e.id]&&t[e.id].rank===i)).id},t.assignMissingRankings=function(e,i,n,o){const s=a(e,i,n);return a(s,function(e,i){return r.default.find(e,(e=>void 0===i[e.id]||i[e.id].rank===t.UNRANKED)).id}(o,s),n+1)},t.addRanking=a,t.buildRankingPreferences=function(e){const t=r.default.sortBy(e,"rank");return r.default.reduce(t,((i,n,r)=>{if(r===e.length-1)return i;const a={elicitationMethod:"ranking",type:"ordinal",criteria:[n.criterionId,t[r+1].criterionId]};return i.push(a),i}),[])}},8422:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=n(i(9767)),o=n(i(781)),s=i(9297),c=i(2536),l=n(i(7460));t.default=function(){const{previousCallback:e,currentStep:t,setCurrentStep:i,isNextDisabled:n,preferences:d,cancelCallback:u,saveCallback:f}=(0,s.useContext)(c.ElicitationContext);return(0,r.jsxs)(o.default,Object.assign({size:"small"},{children:[u?(0,r.jsx)(a.default,Object.assign({id:"cancel-button",color:"secondary",variant:"contained",onClick:function(){u()}},{children:"Cancel"}),void 0):(0,r.jsx)(r.Fragment,{},void 0),(0,r.jsx)(a.default,Object.assign({id:"previous-button",onClick:function(){1===t?e():i(t-1)},color:"primary",variant:"contained",disabled:!e&&1===t},{children:"Previous"}),void 0),2===t?(0,r.jsx)(l.default,Object.assign({disabled:n,color:"primary",id:"save-button",variant:"contained",asyncFunction:function(){return f(Object.values(d))}},{children:"Save"}),void 0):(0,r.jsx)(a.default,Object.assign({disabled:n,color:"primary",id:"next-button",variant:"contained",onClick:function(){i(t+1)}},{children:"Next"}),void 0)]}),void 0)}},1468:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=n(i(1463)),o=n(i(871)),s=n(i(7907)),c=i(9297),l=i(2536),d=n(i(6445)),u=n(i(1146)),f=i(8707);t.default=function({criterion:e}){const{pvfs:t,showPercentages:i,elicitationMethod:n}=(0,c.useContext)(l.ElicitationContext),p=e.dataSources[0].unitOfMeasurement.type,h=i&&(0,f.canBePercentage)(p);return(0,r.jsxs)(o.default,{children:[(0,r.jsx)(a.default,Object.assign({id:`criterion-title-${e.id}`},{children:(0,r.jsx)(s.default,Object.assign({disableHoverListener:!e.description,title:e.description?e.description:""},{children:(0,r.jsx)("span",Object.assign({className:"criterion-title"},{children:e.title}),void 0)}),void 0)}),void 0),(0,r.jsx)(a.default,Object.assign({id:`unit-${e.id}`},{children:(0,f.getUnitLabel)(e.dataSources[0].unitOfMeasurement,i)}),void 0),(0,r.jsx)(a.default,Object.assign({align:"center",id:`worst-${e.id}`},{children:(0,f.getWorst)(t[e.id],h)}),void 0),(0,r.jsx)(a.default,Object.assign({align:"center",id:`best-${e.id}`},{children:(0,f.getBest)(t[e.id],h)}),void 0),(0,r.jsx)(a.default,Object.assign({align:"center"},{children:"precise"===n?(0,r.jsx)(u.default,{criterion:e},void 0):"imprecise"===n?(0,r.jsx)(d.default,{criterion:e},void 0):void 0}),void 0)]},e.id)}},3741:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=n(i(8361)),o=n(i(7595)),s=n(i(1463)),c=n(i(5361)),l=n(i(871)),d=n(i(8092)),u=i(9297),f=i(2536),p=n(i(1468));t.default=function(){const{criteria:e}=(0,u.useContext)(f.ElicitationContext);return(0,r.jsxs)(a.default,Object.assign({size:"small"},{children:[(0,r.jsx)(c.default,{children:(0,r.jsxs)(l.default,{children:[(0,r.jsx)(s.default,{children:"Criterion"},void 0),(0,r.jsx)(s.default,{children:"Unit"},void 0),(0,r.jsx)(s.default,Object.assign({align:"center"},{children:"Worst"}),void 0),(0,r.jsx)(s.default,Object.assign({align:"center"},{children:"Best"}),void 0),(0,r.jsx)(s.default,Object.assign({align:"center"},{children:"Importance"}),void 0)]},void 0)},void 0),(0,r.jsx)(o.default,{children:d.default.map(e,(e=>(0,r.jsx)(p.default,{criterion:e},e.id)))},void 0)]}),void 0)}},2030:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=i(1731),o=n(i(4720)),s=i(9297),c=i(2536),l=i(7237),d=i(8707),u=n(i(3741));t.default=function(){const{pvfs:e,showPercentages:t,mostImportantCriterionId:i,elicitationMethod:n,getCriterion:f,template:p}=(0,s.useContext)(c.ElicitationContext),h=f(i),v=t&&(0,d.canBePercentage)(h.dataSources[0].unitOfMeasurement.type),[g,j]=(0,s.useState)((0,l.getSwingStatement)(h,e[h.id],v,p));return(0,s.useEffect)((()=>{j((0,l.getSwingStatement)(h,e[h.id],v,p))}),[t,p,h]),(0,r.jsxs)(o.default,Object.assign({container:!0,item:!0,spacing:2},{children:[(0,r.jsx)(o.default,Object.assign({item:!0,xs:12,id:`${n}-swing-statement`},{children:(0,r.jsx)(a.Typography,{dangerouslySetInnerHTML:{__html:g}},void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(u.default,{},void 0)}),void 0)]}),void 0)}},7237:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSwingStatement=t.buildInitialImprecisePreferences=t.buildInitialPrecisePreferences=t.DEFAULT_PRECISE_TEMPLATE=void 0;const r=n(i(8092)),a=i(8707);t.DEFAULT_PRECISE_TEMPLATE="You've indicated that improving %criterion1% from %worst1% %unit1% to %best1% %unit1% is the most important (i.e. it has 100% importance). Now indicate the relative importance (in %) to this improvement of each other criterion's improvement using the sliders below.",t.buildInitialPrecisePreferences=function(e,t){return(0,r.default)(e).filter((e=>e.id!==t)).map((e=>{const i={criteria:[t,e.id],elicitationMethod:"precise",type:"exact swing",ratio:1};return[e.id,i]})).fromPairs().value()},t.buildInitialImprecisePreferences=function(e,t){return(0,r.default)(e).reject(["id",t]).keyBy("id").mapValues((e=>({criteria:[t,e.id],elicitationMethod:"imprecise",type:"ratio bound",bounds:[1,100]}))).value()},t.getSwingStatement=function(e,i,n,r){const o=e.dataSources[0].unitOfMeasurement,s=(0,a.getUnitLabel)(o,n);return(r||t.DEFAULT_PRECISE_TEMPLATE).replace(/%criterion1%/gi,e.title).replace(/%unit1%/gi,s).replace(/%worst1%/gi,String((0,a.getWorst)(i,n))).replace(/%best1%/gi,String((0,a.getBest)(i,n)))}},9176:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=i(1731),o=n(i(4720)),s=n(i(2959)),c=n(i(4740)),l=i(3444),d=i(9297),u=i(2536),f=n(i(2591)),p=n(i(3113)),h=n(i(5656));t.default=function(){const{currentStep:e}=(0,d.useContext)(u.ElicitationContext);return(0,r.jsx)(o.default,Object.assign({container:!0,justify:"center",component:a.Box,mt:2},{children:(0,r.jsxs)(o.default,Object.assign({container:!0,item:!0,spacing:4,sm:12,md:9,component:s.default},{children:[(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(c.default,Object.assign({id:"threshold-elicitation-title-header",variant:"h4"},{children:(0,r.jsx)(l.InlineHelp,Object.assign({helpId:"threshold-elicitation"},{children:"Threshold technique elicitation"}),void 0)}),void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:1===e?(0,r.jsx)(p.default,{},void 0):(0,r.jsx)(h.default,{},void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:9},{children:(0,r.jsx)(f.default,{},void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:3,container:!0,alignItems:"center",justify:"flex-end"},{children:(0,r.jsx)(o.default,Object.assign({item:!0,id:"step-counter"},{children:(0,r.jsxs)(c.default,{children:["Step ",e," of 2"]},void 0)}),void 0)}),void 0)]}),void 0)}),void 0)}},2591:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=n(i(9767)),o=n(i(781)),s=n(i(8092)),c=i(9297),l=i(2536),d=n(i(7460)),u=i(3208),f=i(4304);t.default=function(){const{previousCallback:e,pvfs:t,setCurrentStep:i,saveCallback:n,cancelCallback:p,currentStep:h}=(0,c.useContext)(l.ElicitationContext),{mostImportantCriterionId:v,direction:g,equivalentChangeForReferenceCriterion:j,inputValuesByCriterion:m,isSaveButtonDisabled:x,setIsSaveButtonDisabled:b,isInvalidReferenceValue:_}=(0,c.useContext)(u.ThresholdElicitationContext);return(0,r.jsxs)(o.default,Object.assign({size:"small"},{children:[p?(0,r.jsx)(a.default,Object.assign({id:"cancel-button",color:"secondary",variant:"contained",onClick:function(){p()}},{children:"Cancel"}),void 0):(0,r.jsx)(r.Fragment,{},void 0),(0,r.jsx)(a.default,Object.assign({id:"previous-button",onClick:function(){1===h?e():i(1)},color:"primary",variant:"contained",disabled:!e&&1===h},{children:"Previous"}),void 0),1===h?(0,r.jsx)(a.default,Object.assign({disabled:!v||!g||_,color:"primary",id:"next-button",variant:"contained",onClick:function(){s.default.some(m,(e=>0===e))?b(!0):b(!1),i(2)}},{children:"Next"}),void 0):(0,r.jsx)(d.default,Object.assign({disabled:x,color:"primary",id:"save-button",variant:"contained",asyncFunction:function(){const e=s.default.merge({},m,{[v]:j}),i=(0,f.buildThresholdPreferences)(v,j,m,t);return n(i,e)}},{children:"Save"}),void 0)]}),void 0)}},3208:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThresholdElicitationContextProviderComponent=t.ThresholdElicitationContext=void 0;const r=i(5893),a=n(i(8092)),o=i(9297),s=i(2536),c=i(4304);t.ThresholdElicitationContext=(0,o.createContext)({}),t.ThresholdElicitationContextProviderComponent=function({children:e}){const{criteria:i,pvfs:n,getCriterion:l,stepSizesByCriterion:d}=(0,o.useContext)(s.ElicitationContext),[u,f]=(0,o.useState)(),[p,h]=(0,o.useState)(!1),[v,g]=(0,o.useState)(),[j,m]=(0,o.useState)(),[x,b]=(0,o.useState)({}),[_,O]=(0,o.useState)(),[C,y]=(0,o.useState)((0,c.getInitialValidity)(i)),[P,M]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{j&&g(d[j])}),[j,d]),(0,o.useEffect)((()=>{if(j&&v){const e=a.default.reject(i,["id",j]),t=(0,c.calculateReferenceChangeRatio)(v,n[j].range),r=(0,c.calculateInputValuesByCriterion)(e,t,n,d);O(r)}}),[i,v,j,n,d]),(0,r.jsx)(t.ThresholdElicitationContext.Provider,Object.assign({value:{direction:u,mostImportantCriterionId:j,preferences:x,equivalentChangeForReferenceCriterion:v,inputValuesByCriterion:_,isSaveButtonDisabled:p,isInvalidReferenceValue:P,setDirection:f,setIsSaveButtonDisabled:h,setIsValidValue:function(e,t){const i=Object.assign(Object.assign({},C),{[e]:t});var n;y(i),h((n=i,a.default.some(n,(e=>!e))))},setMostImportantCriterionId:m,setPreferences:b,setEquivalentChangeForReferenceCriterion:g,setCriterionInputValue:function(e,t){const i=Object.assign(Object.assign({},a.default.cloneDeep(_)),{[e]:t});O(i)},getInputValueForCriterion:function(e){return _[e]},setIsInvalidReferenceValue:M}},{children:e}),void 0)}},5218:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=i(1731),o=n(i(4720)),s=n(i(7989)),c=n(i(1454)),l=n(i(4740)),d=i(9297),u=i(2536),f=i(3208);t.default=function(){const{direction:e,mostImportantCriterionId:t,setDirection:i}=(0,d.useContext)(f.ThresholdElicitationContext),{getCriterion:n}=(0,d.useContext)(u.ElicitationContext),p=n(t);return(0,r.jsxs)(o.default,Object.assign({container:!0},{children:[(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(l.default,Object.assign({variant:"h6"},{children:`What type of change in ${p.title} should be used as basis for comparison with other criteria?`}),void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:(0,r.jsxs)(c.default,Object.assign({id:"improvement-or-worsening-radio",value:e||"",onChange:function(e){i(e.target.value)}},{children:[(0,r.jsx)(a.FormControlLabel,{id:"worsening",control:(0,r.jsx)(s.default,{value:"worsening"},void 0),label:"Worsening"},void 0),(0,r.jsx)(a.FormControlLabel,{id:"improvement",control:(0,r.jsx)(s.default,{value:"improvement"},void 0),label:"Improvement"},void 0)]}),void 0)}),void 0)]}),void 0)}},9038:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=n(i(4720)),o=n(i(3283)),s=n(i(4740)),c=n(i(8092)),l=i(9297),d=i(2536),u=i(3208);t.default=function(){const{criteria:e,setIsNextDisabled:t}=(0,l.useContext)(d.ElicitationContext),{mostImportantCriterionId:i,setMostImportantCriterionId:n}=(0,l.useContext)(u.ThresholdElicitationContext);return(0,r.jsxs)(a.default,Object.assign({container:!0},{children:[(0,r.jsx)(a.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(s.default,Object.assign({variant:"h6"},{children:"Choose a criterion to use as reference:"}),void 0)}),void 0),(0,r.jsx)(a.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(o.default,Object.assign({native:!0,id:"threshold-reference-criterion-selector",value:i||"",onChange:function(e){n(e.target.value),t(!1)}},{children:[(0,r.jsx)("option",Object.assign({value:"",disabled:!0},{children:"Please select an option"}),"default-choice"),...c.default.map(e,(e=>(0,r.jsx)("option",Object.assign({value:e.id},{children:e.title}),e.id)))]}),void 0)}),void 0)]}),void 0)}},3113:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=n(i(4720)),o=i(9297),s=i(3208),c=n(i(5218)),l=n(i(9038)),d=n(i(3));t.default=function(){const{mostImportantCriterionId:e,direction:t}=(0,o.useContext)(s.ThresholdElicitationContext);return(0,r.jsxs)(a.default,Object.assign({container:!0,spacing:2},{children:[(0,r.jsx)(a.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(l.default,{},void 0)}),void 0),e?(0,r.jsxs)(a.default,Object.assign({container:!0,item:!0,xs:12},{children:[(0,r.jsx)(a.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(c.default,{},void 0)}),void 0),(0,r.jsx)(a.default,Object.assign({item:!0,xs:12},{children:t?(0,r.jsx)(d.default,{},void 0):(0,r.jsx)(r.Fragment,{},void 0)}),void 0)]}),void 0):(0,r.jsx)(r.Fragment,{},void 0)]}),void 0)}},3:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=i(1731),o=n(i(4720)),s=n(i(4740)),c=i(9297),l=i(2536),d=i(4304),u=i(8707),f=i(3208);t.default=function(){const{getCriterion:e,showPercentages:t,stepSizesByCriterion:i}=(0,c.useContext)(l.ElicitationContext),{direction:n,mostImportantCriterionId:p,equivalentChangeForReferenceCriterion:h,setEquivalentChangeForReferenceCriterion:v,setIsInvalidReferenceValue:g}=(0,c.useContext)(f.ThresholdElicitationContext),[j,m]=(0,c.useState)(""),x=e(p),b=x.dataSources[0].unitOfMeasurement,_=t&&(0,u.canBePercentage)(b.type),O=(0,u.getUnitLabel)(b,t),[C,y]=(0,c.useState)((0,u.percentify)(_,h)),P=null===b.lowerBound?-1/0:b.lowerBound,M=null===b.upperBound?1/0:(0,d.getUpperBound)(_,b),S=(0,u.percentify)(_,i[x.id]);return(0,r.jsxs)(o.default,Object.assign({container:!0},{children:[(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(s.default,Object.assign({variant:"h6"},{children:`By how much ${O} should ${x.title} ${"worsening"===n?"worsen":"improve"}?`}),void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({container:!0,item:!0,xs:12,alignItems:"center"},{children:(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(a.TextField,{id:"input-reference-value",value:C,onChange:function(e){const t=Number.parseFloat(e.target.value),i=(0,d.getThresholdValueError)(t,P,M);m(i),g(Boolean(i)),y(t),i||v((0,u.depercentify)(_,t))},type:"number",InputProps:{endAdornment:(0,r.jsx)(a.InputAdornment,Object.assign({position:"end"},{children:(0,u.getUnitLabel)(b,t)}),void 0)},inputProps:{min:P,max:M,step:S},error:Boolean(j),helperText:j},void 0)}),void 0)}),void 0)]}),void 0)}},5287:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=i(1731),o=n(i(5984));t.default=function({criterion:e}){return(0,r.jsxs)(a.TableRow,{children:[(0,r.jsx)(a.TableCell,Object.assign({id:`criterion-title-${e.id}`},{children:e.title}),void 0),(0,r.jsx)(a.TableCell,Object.assign({align:"center",width:"500px"},{children:(0,r.jsx)(o.default,{criterion:e},void 0)}),void 0)]},void 0)}},5984:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=i(1731),o=n(i(4720)),s=i(9297),c=i(2536),l=i(4304),d=i(8707),u=i(3208);t.default=function({criterion:e}){const{showPercentages:t,stepSizesByCriterion:i}=(0,s.useContext)(c.ElicitationContext),{setCriterionInputValue:n,getInputValueForCriterion:f,setIsValidValue:p}=(0,s.useContext)(u.ThresholdElicitationContext),[h]=(0,s.useState)(f(e.id)),[v,g]=(0,s.useState)(0===h?"Value cannot be 0":""),j=e.dataSources[0].unitOfMeasurement,m=t&&(0,d.canBePercentage)(j.type),[x,b]=(0,s.useState)((0,d.percentify)(m,h)),_=null===j.lowerBound?-1/0:j.lowerBound,O=null===j.upperBound?1/0:(0,l.getUpperBound)(m,j),C=(0,d.percentify)(m,i[e.id]);return(0,r.jsx)(o.default,Object.assign({container:!0,spacing:2,justify:"center"},{children:(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(a.TextField,{id:`input-${e.id}`,value:x,onChange:function(t){const i=Number.parseFloat(t.target.value),r=(0,l.getThresholdValueError)(i,_,O);g(r),b(i),p(e.id,!r),r||n(e.id,(0,d.depercentify)(m,i))},type:"number",InputProps:{endAdornment:(0,r.jsx)(a.InputAdornment,Object.assign({position:"end"},{children:(0,d.getUnitLabel)(j,t)}),void 0)},inputProps:{min:_,max:O,step:C},error:Boolean(v),helperText:v},void 0)}),void 0)}),void 0)}},5656:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=i(1731),o=n(i(4720)),s=n(i(8092)),c=i(9297),l=i(2536),d=i(8707),u=i(3208),f=n(i(5287));t.default=function(){const{equivalentChangeForReferenceCriterion:e,direction:t,mostImportantCriterionId:i}=(0,c.useContext)(u.ThresholdElicitationContext),{showPercentages:n,criteria:p,getCriterion:h}=(0,c.useContext)(l.ElicitationContext),v=h(i),g=n&&(0,d.canBePercentage)(v.dataSources[0].unitOfMeasurement.type);return(0,r.jsxs)(o.default,Object.assign({container:!0},{children:[(0,r.jsx)(o.default,Object.assign({item:!0,xs:12,id:"threshold-elicitation-statement"},{children:(0,r.jsx)(a.Typography,{children:function(){const i=(0,d.getPercentifiedValueLabel)(e,g),r=(0,d.getUnitLabel)(v.dataSources[0].unitOfMeasurement,n);return`For each other criterion, adjust its value so that it answers the question '${"improvement"===t?`What is the maximal acceptable worsening of this criterion, given the improvement in ${v.title} by ${i} ${r}`:`What is the minimum improvement in this criterion that would make the worsening in ${v.title} by ${i} ${r} acceptable`}?'`}()},void 0)}),void 0),(0,r.jsx)(o.default,Object.assign({item:!0,xs:12},{children:(0,r.jsxs)(a.Table,Object.assign({size:"small"},{children:[(0,r.jsx)(a.TableHead,{children:(0,r.jsxs)(a.TableRow,{children:[(0,r.jsx)(a.TableCell,{children:"Criterion"},void 0),(0,r.jsx)(a.TableCell,{},void 0)]},void 0)},void 0),(0,r.jsx)(a.TableBody,{children:(0,s.default)(p).reject(["id",i]).map((e=>(0,r.jsx)(f.default,{criterion:e},e.id))).value()},void 0)]}),void 0)}),void 0)]}),void 0)}},4304:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getThresholdValueError=t.getUpperBound=t.calculateStatementValues=t.getInitialInputValue=t.calculateInputValuesByCriterion=t.calculateReferenceChangeRatio=t.buildThresholdPreferences=t.getInitialValidity=void 0;const s=o(i(8092)),c=a(i(8707));function l(e,[t,i]){return e/(i-t)}function d(e,[t,i],n){const r=(e*(i-t)).toFixed(Math.abs(n));return parseFloat(r)}t.getInitialValidity=function(e){return(0,s.default)(e).keyBy("id").mapValues((()=>!0)).value()},t.buildThresholdPreferences=function(e,t,i,n){const r=l(t,n[e].range);return s.default.map(i,((t,i)=>{const[a,o]=n[i].range;return{elicitationMethod:"threshold",type:"exact swing",criteria:[e,i],ratio:t/(o-a)/r}}))},t.calculateReferenceChangeRatio=l,t.calculateInputValuesByCriterion=function(e,t,i,n){return(0,s.default)(e).keyBy("id").mapValues((e=>{const r=i[e.id].range,a=function([e,t],i){if(i)return Math.log10(i);{const i=t-e;return Math.floor(Math.log10(i))-1}}(r,n[e.id]);return d(t,r,a)})).value()},t.getInitialInputValue=d,t.calculateStatementValues=function(e,t,i,n){const r=(0,c.getWorst)(t,n),a=(0,c.getBest)(t,n),o="improvement"===i?r:a;if("increasing"===t.direction&&"improvement"===i)return[o,(0,c.default)(o+e)];if("increasing"===t.direction&&"worsening"===i)return[o,(0,c.default)(o-e)];if("decreasing"===t.direction&&"improvement"===i)return[o,(0,c.default)(o-e)];if("decreasing"===t.direction&&"worsening"===i)return[o,(0,c.default)(o+e)];throw"Invalid arguments"},t.getUpperBound=function(e,t){return e&&"decimal"===t.type?100:e||"percentage"!==t.type?t.upperBound:1},t.getThresholdValueError=function(e,t,i){return isNaN(e)||null===e?"Only numerical values accepted":e<t||e>i?`Value needs to be between ${t} and ${i}`:0===e?"Value cannot be 0":""}},7460:function(e,t,i){var n=this&&this.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};Object.defineProperty(t,"__esModule",{value:!0});const r=i(5893),a=i(1731),o=i(9297);t.default=function(e){var{asyncFunction:t,disabled:i,children:s}=e,c=n(e,["asyncFunction","disabled","children"]);const[l,d]=(0,o.useState)(!1),u=(0,o.useCallback)((()=>{d(!0),t().finally((()=>{d(!1)}))}),[t]);return(0,r.jsx)(a.Button,Object.assign({onClick:u,disabled:l||i},c,{children:s}),void 0)}},8707:(e,t)=>{function i(e){return"increasing"===e.direction}function n(e,t){if(0===t||t||(t=3),null==e||isNaN(e))throw"attempt to apply significant digits to non-numeric value";return 0===e?e:e>1||e<-1?Number.parseFloat(e.toFixed(t)):Number.parseFloat(e.toPrecision(t))}function r(e,t){return n(t?100*n(e):e)}Object.defineProperty(t,"__esModule",{value:!0}),t.depercentify=t.percentify=t.getPercentifiedValueLabel=t.getUnitLabel=t.getPercentifiedValue=t.getWorst=t.getBest=t.canBePercentage=void 0,t.canBePercentage=function(e){return"percentage"===e||"decimal"===e},t.getBest=function(e,t){return r(n(i(e)?e.range[1]:e.range[0]),t)},t.getWorst=function(e,t){return r(n(i(e)?e.range[0]:e.range[1]),t)},t.default=n,t.getPercentifiedValue=r,t.getUnitLabel=function(e,t){return t&&"decimal"===e.type?"%":t||"percentage"!==e.type?e.label:""},t.getPercentifiedValueLabel=function(e,t){return r(e,t).toString()},t.percentify=function(e,t){return e?n(100*t):t},t.depercentify=function(e,t){return e?n(t/100):t}},3607:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceElicitation=void 0;const r=n(i(296));t.PreferenceElicitation=r.default},1731:t=>{t.exports=e},9767:e=>{e.exports=t},781:e=>{e.exports=i},4720:e=>{e.exports=n},2959:e=>{e.exports=r},7989:e=>{e.exports=a},1454:e=>{e.exports=o},3283:e=>{e.exports=s},9851:e=>{e.exports=c},8361:e=>{e.exports=l},7595:e=>{e.exports=d},1463:e=>{e.exports=u},5361:e=>{e.exports=f},871:e=>{e.exports=p},7907:e=>{e.exports=h},4740:e=>{e.exports=v},3444:e=>{e.exports=g},9297:e=>{e.exports=j},8092:e=>{e.exports=m}},b={};return function e(t){if(b[t])return b[t].exports;var i=b[t]={exports:{}};return x[t].call(i.exports,i,i.exports,e),i.exports}(3607)})()}));